{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";export const getBlogs=createAsyncThunk('blog/getBlogs',async(_,thunkAPI)=>{const{rejectWithValue}=thunkAPI;try{const res=await fetch(\"https://movieapp-api-07gn.onrender.com/blog\");const data=await res.json();return data;}catch(error){return rejectWithValue(error.message);}});export const insertBlog=createAsyncThunk(\"blog/insertBlog\",async(blogData,thunkAPI)=>{const{rejectWithValue,getState}=thunkAPI;try{console.log(blogData);const res=await fetch(\"https://movieapp-api-07gn.onrender.com/blog\",{method:'POST',body:JSON.stringify(blogData),headers:{'Content-type':'application/json; charset=UTF-8'}});const data=await res.json();return data;}catch(error){return rejectWithValue(error.message);}});export const updateBlog=createAsyncThunk(\"blog/updateBlog\",async(blogData,thunkAPI)=>{const{rejectWithValue}=thunkAPI;try{const res=await fetch(\"https://movieapp-api-07gn.onrender.com/blog/\".concat(blogData.id),{method:\"PUT\",body:JSON.stringify(blogData),headers:{\"Content-Type\":\"application/json; charset=UTF-8\"}});const data=await res.json();console.log(data);return data;}catch(error){return rejectWithValue(error.message);}});export const deleteBlog=createAsyncThunk(\"blog/deleteBlog\",async(id,thunkAPI)=>{const{rejectWithValue}=thunkAPI;console.log(typeof id);try{await fetch(\"https://movieapp-api-07gn.onrender.com/blog/\".concat(id),{method:\"DELETE\"});return id;}catch(error){return rejectWithValue(error.message);}});const BlogSlice=createSlice({name:\"blog\",initialState:{blogs:[]},reducers:{},extraReducers:builder=>{builder.addCase(getBlogs.pending,state=>{console.log(\"getBlogs pending\");}).addCase(getBlogs.fulfilled,(state,action)=>{state.blogs=action.payload;console.log(\"getBlogs fullfiled\");}).addCase(getBlogs.rejected,(state,action)=>{console.log(\"getBlogs rejected\");}).addCase(updateBlog.pending,state=>{state.loading=true;}).addCase(updateBlog.fulfilled,(state,action)=>{state.loading=false;state.blogs=state.blogs.map(b=>b.id===action.payload.id?action.payload:b);}).addCase(updateBlog.rejected,(state,action)=>{state.loading=false;state.error=action.payload;});}});export const{filterData}=BlogSlice.actions;export default BlogSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","getBlogs","_","thunkAPI","rejectWithValue","res","fetch","data","json","error","message","insertBlog","blogData","getState","console","log","method","body","JSON","stringify","headers","updateBlog","concat","id","deleteBlog","BlogSlice","name","initialState","blogs","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","loading","map","b","filterData","actions","reducer"],"sources":["D:/React training/blog/src/store/BlogSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nexport const getBlogs = createAsyncThunk('blog/getBlogs', async(_, thunkAPI) => {\r\n    const {rejectWithValue} = thunkAPI\r\n    try{\r\n        const res = await fetch (\"https://movieapp-api-07gn.onrender.com/blog\")\r\n        const data = await res.json()\r\n        return data;\r\n\r\n    }catch(error) {\r\n        return rejectWithValue(error.message)\r\n    }\r\n\r\n})\r\nexport const insertBlog = createAsyncThunk(\"blog/insertBlog\" , async (blogData , thunkAPI) => {\r\n    const {rejectWithValue, getState} = thunkAPI\r\n    try{\r\n      console.log(blogData)\r\n        const res = await fetch(\"https://movieapp-api-07gn.onrender.com/blog\", {\r\n            method:'POST',\r\n            body : JSON.stringify(blogData),\r\n            headers: {\r\n                'Content-type': 'application/json; charset=UTF-8'\r\n            },\r\n        })\r\n        const data = await res.json()\r\n        return data;\r\n\r\n    }catch(error){\r\n        return rejectWithValue(error.message)\r\n\r\n    }\r\n})\r\nexport const updateBlog = createAsyncThunk(\r\n  \"blog/updateBlog\",\r\n  async (blogData, thunkAPI) => {\r\n    const { rejectWithValue } = thunkAPI;\r\n    try {\r\n      const res = await fetch(`https://movieapp-api-07gn.onrender.com/blog/${blogData.id}`, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify(blogData),\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=UTF-8\",\r\n        },\r\n      });\r\n      const data = await res.json();\r\n      console.log(data)\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\nexport const deleteBlog = createAsyncThunk(\r\n  \"blog/deleteBlog\",\r\n  async (id, thunkAPI) => {\r\n    const { rejectWithValue } = thunkAPI;\r\n    console.log(typeof(id))\r\n    try {\r\n      await fetch(`https://movieapp-api-07gn.onrender.com/blog/${id}`, { method: \"DELETE\" });\r\n      return id;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\n\r\n\r\n\r\n\r\nconst BlogSlice = createSlice({\r\n  name: \"blog\",\r\n  initialState: {\r\n    blogs: [],\r\n  },\r\n  reducers: {\r\n   \r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(getBlogs.pending, (state) => {\r\n        console.log(\"getBlogs pending\")\r\n      })\r\n      .addCase(getBlogs.fulfilled, (state, action) => {\r\n        state.blogs = action.payload;\r\n        console.log(\"getBlogs fullfiled\")\r\n      })\r\n      .addCase(getBlogs.rejected, (state, action) => {\r\n        console.log(\"getBlogs rejected\")\r\n      })\r\n      .addCase(updateBlog.pending, (state) => {\r\n  state.loading = true;\r\n})\r\n.addCase(updateBlog.fulfilled, (state, action) => {\r\n  state.loading = false;\r\n  state.blogs = state.blogs.map((b) =>\r\n    b.id === action.payload.id ? action.payload : b\r\n  );\r\n})\r\n.addCase(updateBlog.rejected, (state, action) => {\r\n  state.loading = false;\r\n  state.error = action.payload;\r\n});\r\n\r\n\r\n  }\r\n});\r\n\r\nexport const {filterData} = BlogSlice.actions;\r\nexport default BlogSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}